{% extends 'base/base.html' %} 
{% block navbar %}{% endblock %} 
{% block sidebar %}{% endblock %} 
{% block footer %}{% endblock %} 
{% block content %}

  <div class="{{ col_class }}" >
    <div class="card {{ card_class|default:'shadow-lg' }} mt-8">
      
      <div class="{{ card_header_class|default:'card-header' }}"  style="{{ card_header_style|default:'' }}">
        <div class="page-header">
            <ol class="breadcrumb">
              <li class="breadcrumb-item ">
                <h3 class="card-title mb-0 display-8">{{ title }}</h3>
              </li>
              <li class="breadcrumb-back">
                <a href="{{ back_url }}" class="{{ back_class }}"> 
                  {{ back_text }}
                  {% if back_icon %}<i class="{{ back_icon }}"></i>{% endif %}
                </a>
              </li>
            </ol>
        </div>
      </div>

      <div class="{{ card_body_class|default:'card-body p-4' }}">
        {% if messages %}
          {% for message in messages %}
            <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %} alert-dismissible fade show mb-4" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          {% endfor %}
        {% endif %}
        
        <form action="{{ form_action }}" method="post" enctype="multipart/form-data" class="form-horizontal" novalidate>
          {% csrf_token %}
          
          {% for field in form %}
            <div class="row mt-5 mb-5">
              <label class="col-md-4 form-label fw-bold" for="{{ field.id_for_label }}">
                {{ field.label }}{% if field.field.required %}<span class="text-danger mr-2 mb-2 fs-20">*</span>{% endif %}
              </label>
              <div class="col-md-8">
                {% if field.field.widget.input_type == 'file' %}
                  <!-- File Input -->
                  <div class="position-relative">
                    {{ field }}
                    {% if field.errors %}
                      <div class="invalid-feedback d-block mt-1">{{ field.errors|first }}</div>
                    {% endif %}
                  </div>
                {% elif field.field.widget.input_type == 'checkbox' %}
                  <!-- Checkbox -->
                  <div class="form-check">
                    {{ field }}
                    <label class="form-check-label" for="{{ field.id_for_label }}">
                      {{ field.label }}
                    </label>
                  </div>
                {% elif field.field.widget.input_type == 'radio' %}
                  <!-- Radio Buttons -->
                  {{ field }}
                {% else %}
                  <!-- Regular Inputs -->
                  <div class="position-relative">
                    {{ field }}
                    {% if field.errors %}
                      <div class="invalid-feedback d-block mt-1">{{ field.errors|first }}</div>
                    {% endif %}
                  </div>
                {% endif %}
                
                {% if field.help_text %}
                  <small class="form-text text-muted mt-1">{{ field.help_text }}</small>
                {% endif %}
              </div>
            </div>
          {% endfor %}

          <!-- Submit Button -->
          <div class="row ">
           <button 
              type="submit" 
              class="btn {{ submit_class }} mt-5 mb-5 w-50" 
              style="{{ submit_style }} margin:auto"
            >
              {% if submit_icon %}<i class="{{ submit_icon }} me-2"></i>{% endif %}
              {{ submit_text }}
            </button>
          </div>
        </form>
      </div>
      {% if footer_content %}
        <div class="row mb-5">
          <div class="col-12 text-center">
            {{ footer_content|safe }}
          </div>
        </div>
      {% endif %}
    </div>
  </div>

<script>
  document.body.classList.add('login-img');
</script>
{% endblock %}